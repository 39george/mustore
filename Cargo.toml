[package]
name = "mustore"
version = "0.1.0"
edition = "2021"

[dependencies]
# Database-related dependencies
postgres-types = { version = "0.2.6", features = ["derive"] }
tokio-postgres = { version = "0.7.10", features = [
  "with-uuid-1",
  "with-time-0_3",
] }
deadpool = "0.10.0"
deadpool-postgres = "0.11.0"
refinery = { version = "0.8.11", features = ["tokio-postgres"] }
cornucopia_async = { path = "../../crates/open-source/backend/cornucopia/crates/client_async" }
fred = "7.1.0"

# Web-related dependencies
axum = { version = "0.7.2", features = ["macros"] }
http = "1.0.0"
hyper = "1.0.1"
tokio = { version = "1.35.1", features = [
  "macros",
  "rt-multi-thread",
  "signal",
] }
reqwest = { version = "0.11.22", default-features = false, features = [
  "json",
  "rustls-tls",
  "multipart",
  "cookies",
] }
tower = { version = "0.4.13", features = ["timeout"] }
tower-http = { version = "0.5.0", features = ["trace"] }
aws-config = "1.1.1"
aws-sdk-s3 = "1.8.0"

# Serialization-related dependencies
serde = { version = "1.0.193", features = ["derive"] }
serde_json = "1.0.108"
serde_yaml = "0.9.27"
serde_urlencoded = "0.7.1"

# Utility and miscellaneous dependencies
futures = "0.3.29"
async-trait = "0.1.74"
config = "0.13.4"
uuid = { version = "1.6.1", features = ["v4"] }
validator = "0.16.1"
linkify = "0.10.0"
urlencoding = "2.1.3"
askama = "0.12.1"
rand = { version = "0.8.5", features = ["std_rng"] }
thiserror = "1.0.50"
anyhow = "1.0.75"
time = "0.3.30"
identicon-rs = "4.0.1"
image = "0.24.7"
rust_decimal = { version = "1.33.1", features = ["db-postgres"] }
tokio-cron-scheduler = "0.9.4"

# Security
axum-login = "0.11.0"
tower-sessions = { version = "0.8.0", features = ["redis-store"] }
base64 = "0.21.5"
argon2 = { version = "0.5.2", features = ["std"] }
secrecy = { version = "0.8.0", features = ["serde"] }
zxcvbn = "2.2.2"

# Telemetry
tracing = "0.1.40"
tracing-subscriber = { version = "0.3.18", features = [
  "chrono",
  "registry",
  "env-filter",
] }
opentelemetry = "0.21.0"
tracing-opentelemetry = "0.22.0"
opentelemetry-jaeger = "0.20.0"

[dev-dependencies]
# Sync version for testing purposes
postgres = "0.19.7"
wiremock = "0.5.21"
fake = "2.9.1"

[profile.dev.package."*"]
opt-level = 3
debug = false
incremental = true

[profile.dev]
opt-level = 0
debug = false
incremental = true
